import { formatEvents } from '../../common/event';
import { CompletedEventsQuery } from '../../services/api/requests';
jest.mock('react-native-localize', () => {});
jest.mock('react-native-config', () => {});
jest.mock('react-native-style-tachyons', () =>
  jest.requireActual('react-native-style-tachyons'),
);
jest.mock('../../components', () => ({
  ...jest.requireActual(
    '../../components/address-prediction-list/address-prediction-list.props',
  ),
}));
describe('formatEvents', () => {
  const queryData = {
    Events: [
      {
        __typename: 'Events',
        id: 'fd6204b7-4889-491f-a367-368f5b3a89c8',
        title: 'Test Live ',
        image: '/images/events/46be5f8d-fd15-4c43-9856-f047d90bcfec.png',
        start_time: '2022-04-27T00:00:00+00:00',
        description: 'Test test test!',
        video_url: null,
        User: {
          __typename: 'Users',
          id: 'hoPscrfn8ndOjSGHJ6184dK88kH2',
          image:
            '/users/hoPscrfn8ndOjSGHJ6184dK88kH2/159DC592-A3A0-4AC1-A962-38EDD276D26D.jpg',
          first_name: 'Tyler',
          last_name: ' Lemco',
          username: 'therock',
        },
      },
      {
        __typename: 'Events',
        id: '6d141f19-8e9e-45d1-b34f-f11fa2580f2d',
        title: 'BREAK THE APP',
        image: '/images/events/6ee4af28-b887-4101-a5c0-24ac448076b9.png',
        start_time: '2022-04-21T17:49:20+00:00',
        description: "BREAK THE APP - Let's Go!!",
        video_url: 'https://www.youtube.com/embed/MPX1REXmb7c',
        User: {
          __typename: 'Users',
          id: 'BhuW31getrPJT9Zo4lqoMa7wlOl1',
          image: '/images/profile/913dd059-ce32-4265-8117-4f61b0f0baa9.jpg',
          first_name: 'Mister',
          last_name: 'Mister',
          username: 'speaky',
        },
      },
      {
        __typename: 'Events',
        id: 'adac5db6-7408-4bc5-807b-f1508c242f20',
        title: '21/04/22 event 3',
        image: '/images/events/816181db-3459-4e07-81a1-b99c9b71a693.png',
        start_time: '2022-04-21T13:04:26+00:00',
        description: 'only random team breaks',
        video_url: null,
        User: {
          __typename: 'Users',
          id: 'Vp3xOvj6vAQCD8mGKHouFS7klvz2',
          image:
            '/users/Vp3xOvj6vAQCD8mGKHouFS7klvz2/A82BD959-3A77-4B13-B7B3-EF0FA33BF546.jpg',
          first_name: 'Nick',
          last_name: ' Bakolias',
          username: 'nick',
        },
      },
      {
        __typename: 'Events',
        id: 'd1ff6f8f-e6db-406a-80ad-d80253de92cf',
        title: '21/04/22 event 2',
        image: '/images/events/b5394f57-1e5b-40e8-9850-3acb10055c24.png',
        start_time: '2022-04-21T13:04:00+00:00',
        description: 'test',
        video_url: null,
        User: {
          __typename: 'Users',
          id: 'Vp3xOvj6vAQCD8mGKHouFS7klvz2',
          image:
            '/users/Vp3xOvj6vAQCD8mGKHouFS7klvz2/A82BD959-3A77-4B13-B7B3-EF0FA33BF546.jpg',
          first_name: 'Nick',
          last_name: ' Bakolias',
          username: 'nick',
        },
      },
      {
        __typename: 'Events',
        id: 'ea55e3ce-50b8-4c39-9417-d359009b402d',
        title: 'Cards & Coffee Test',
        image: '/images/events/69513ad4-bd77-4f5b-96d7-ec1637869d2f.jpg',
        start_time: '2022-04-20T20:00:00+00:00',
        description: 'jsdjshdjhfjsdkhf',
        video_url: null,
        User: {
          __typename: 'Users',
          id: 'BhuW31getrPJT9Zo4lqoMa7wlOl1',
          image: '/images/profile/913dd059-ce32-4265-8117-4f61b0f0baa9.jpg',
          first_name: 'Mister',
          last_name: 'Mister',
          username: 'speaky',
        },
      },
      {
        __typename: 'Events',
        id: '4acb286a-f01d-4b79-89e8-c985424a9b01',
        title: '25.3 Warren Test Event',
        image: '/images/events/54f50cdf-a218-4a88-ace6-86a3aab580d9.png',
        start_time: '2022-04-20T17:25:11+00:00',
        description: '25.3 Warren Test Event',
        video_url: 'https://www.youtube.com/embed/MPX1REXmb7c',
        User: {
          __typename: 'Users',
          id: 'BhuW31getrPJT9Zo4lqoMa7wlOl1',
          image: '/images/profile/913dd059-ce32-4265-8117-4f61b0f0baa9.jpg',
          first_name: 'Mister',
          last_name: 'Mister',
          username: 'speaky',
        },
      },
      {
        __typename: 'Events',
        id: '7ed41e55-70ca-4f7d-9163-eb7706d9a40f',
        title: 'DEV TEST EVENT',
        image: '/images/events/759fbb43-9dbe-48b0-b459-1150da6f15cc.png',
        start_time: '2022-04-19T17:30:19+00:00',
        description: 'test',
        video_url: 'https://www.youtube.com/embed/mdfLQBYGSog',
        User: {
          __typename: 'Users',
          id: 'Vp3xOvj6vAQCD8mGKHouFS7klvz2',
          image:
            '/users/Vp3xOvj6vAQCD8mGKHouFS7klvz2/A82BD959-3A77-4B13-B7B3-EF0FA33BF546.jpg',
          first_name: 'Nick',
          last_name: ' Bakolias',
          username: 'nick',
        },
      },
      {
        __typename: 'Events',
        id: '12f071d0-3872-44fb-892e-1aa5b22fe21f',
        title: 'close randomizer',
        image: '/images/events/0fcb39c6-9fb7-405a-8b49-57c379d6d5cc.jpg',
        start_time: '2022-03-31T12:50:44+00:00',
        description: 'test',
        video_url: null,
        User: {
          __typename: 'Users',
          id: 'Vp3xOvj6vAQCD8mGKHouFS7klvz2',
          image:
            '/users/Vp3xOvj6vAQCD8mGKHouFS7klvz2/A82BD959-3A77-4B13-B7B3-EF0FA33BF546.jpg',
          first_name: 'Nick',
          last_name: ' Bakolias',
          username: 'nick',
        },
      },
      {
        __typename: 'Events',
        id: '5888f738-fa2c-4268-bc12-40fffa474990',
        title: 'test upcoming breaks',
        image: '/images/events/0143c05f-56d2-400b-9930-543b4b447e67.jpg',
        start_time: '2022-03-31T02:41:01+00:00',
        description: 'test',
        video_url: 'https://www.youtube.com/embed/mdfLQBYGSog',
        User: {
          __typename: 'Users',
          id: 'Vp3xOvj6vAQCD8mGKHouFS7klvz2',
          image:
            '/users/Vp3xOvj6vAQCD8mGKHouFS7klvz2/A82BD959-3A77-4B13-B7B3-EF0FA33BF546.jpg',
          first_name: 'Nick',
          last_name: ' Bakolias',
          username: 'nick',
        },
      },
      {
        __typename: 'Events',
        id: '45a79a06-6383-4af0-b55f-58752fc0f05b',
        title: 'PYD/PYT test',
        image: '/images/events/4d22017b-5c17-48fc-8861-9b164c05eb1e.jpg',
        start_time: '2022-03-23T15:59:36+00:00',
        description: 'test',
        video_url: null,
        User: {
          __typename: 'Users',
          id: 'Vp3xOvj6vAQCD8mGKHouFS7klvz2',
          image:
            '/users/Vp3xOvj6vAQCD8mGKHouFS7klvz2/A82BD959-3A77-4B13-B7B3-EF0FA33BF546.jpg',
          first_name: 'Nick',
          last_name: ' Bakolias',
          username: 'nick',
        },
      },
      {
        __typename: 'Events',
        id: '12763791-d8e8-441a-b711-739fd21ea1ca',
        title: 'TEST - TOP SHELF - RTMP',
        image: '/images/events/f1021f7c-3b57-4e3f-94d1-1a9870fb1ce0.jpg',
        start_time: '2022-03-18T16:00:00+00:00',
        description: 'TEST - TOP SHELF - RTMP',
        video_url: null,
        User: {
          __typename: 'Users',
          id: 'BhuW31getrPJT9Zo4lqoMa7wlOl1',
          image: '/images/profile/913dd059-ce32-4265-8117-4f61b0f0baa9.jpg',
          first_name: 'Mister',
          last_name: 'Mister',
          username: 'speaky',
        },
      },
      {
        __typename: 'Events',
        id: '155c3e7f-c3ac-4392-a5c3-aeaebd763b09',
        title: 'randomizer test',
        image: '/images/events/2596c64a-aca7-48b5-8d3f-85fbae74944e.jpg',
        start_time: '2022-03-18T01:11:47+00:00',
        description: 'test',
        video_url: null,
        User: {
          __typename: 'Users',
          id: 'Vp3xOvj6vAQCD8mGKHouFS7klvz2',
          image:
            '/users/Vp3xOvj6vAQCD8mGKHouFS7klvz2/A82BD959-3A77-4B13-B7B3-EF0FA33BF546.jpg',
          first_name: 'Nick',
          last_name: ' Bakolias',
          username: 'nick',
        },
      },
      {
        __typename: 'Events',
        id: 'eb02680c-a603-4b92-bcab-68ff357c1199',
        title: 'RTMP TEST FOR DAN',
        image: '/images/events/ba96dc52-c40f-4684-833b-1cda3baeda8c.png',
        start_time: '2022-03-16T21:26:02+00:00',
        description: 'RTMP TEST FOR DAN',
        video_url: null,
        User: {
          __typename: 'Users',
          id: 'BhuW31getrPJT9Zo4lqoMa7wlOl1',
          image: '/images/profile/913dd059-ce32-4265-8117-4f61b0f0baa9.jpg',
          first_name: 'Mister',
          last_name: 'Mister',
          username: 'speaky',
        },
      },
      {
        __typename: 'Events',
        id: 'b6659c8e-78e2-4f12-91db-93b410cabb34',
        title: 'DAN - TEST - MILLICAST TO APP - FROM OUT OF HOME',
        image: '/images/events/581efd92-3a52-4de2-95af-8ff4d45e1e07.png',
        start_time: '2022-03-16T13:15:24+00:00',
        description: 'DAN - TEST - MILLICAST TO APP - FROM OUT OF HOME',
        video_url: null,
        User: {
          __typename: 'Users',
          id: 'BhuW31getrPJT9Zo4lqoMa7wlOl1',
          image: '/images/profile/913dd059-ce32-4265-8117-4f61b0f0baa9.jpg',
          first_name: 'Mister',
          last_name: 'Mister',
          username: 'speaky',
        },
      },
      {
        __typename: 'Events',
        id: '459f418c-eea7-4325-a390-02d956e3b1a0',
        title: 'Bomba squad test break',
        image: '/images/events/ddec19e4-a366-4242-af81-cf65d0d46018.png',
        start_time: '2022-03-15T16:55:50+00:00',
        description: 'test',
        video_url: null,
        User: {
          __typename: 'Users',
          id: 'Vp3xOvj6vAQCD8mGKHouFS7klvz2',
          image:
            '/users/Vp3xOvj6vAQCD8mGKHouFS7klvz2/A82BD959-3A77-4B13-B7B3-EF0FA33BF546.jpg',
          first_name: 'Nick',
          last_name: ' Bakolias',
          username: 'nick',
        },
      },
    ],
  };

  const expectedData = [
    {
      __typename: 'Users',
      id: 'hoPscrfn8ndOjSGHJ6184dK88kH2',
      image:
        '/users/hoPscrfn8ndOjSGHJ6184dK88kH2/159DC592-A3A0-4AC1-A962-38EDD276D26D.jpg',
      first_name: 'Tyler',
      last_name: ' Lemco',
      username: 'therock',
      Events: [
        {
          __typename: 'Events',
          id: 'fd6204b7-4889-491f-a367-368f5b3a89c8',
          title: 'Test Live ',
          image: '/images/events/46be5f8d-fd15-4c43-9856-f047d90bcfec.png',
          start_time: '2022-04-27T00:00:00+00:00',
          description: 'Test test test!',
          video_url: null,
        },
      ],
    },
    {
      __typename: 'Users',
      id: 'BhuW31getrPJT9Zo4lqoMa7wlOl1',
      image: '/images/profile/913dd059-ce32-4265-8117-4f61b0f0baa9.jpg',
      first_name: 'Mister',
      last_name: 'Mister',
      username: 'speaky',
      Events: [
        {
          __typename: 'Events',
          id: '6d141f19-8e9e-45d1-b34f-f11fa2580f2d',
          title: 'BREAK THE APP',
          image: '/images/events/6ee4af28-b887-4101-a5c0-24ac448076b9.png',
          start_time: '2022-04-21T17:49:20+00:00',
          description: "BREAK THE APP - Let's Go!!",
          video_url: 'https://www.youtube.com/embed/MPX1REXmb7c',
        },
        {
          __typename: 'Events',
          id: 'ea55e3ce-50b8-4c39-9417-d359009b402d',
          title: 'Cards & Coffee Test',
          image: '/images/events/69513ad4-bd77-4f5b-96d7-ec1637869d2f.jpg',
          start_time: '2022-04-20T20:00:00+00:00',
          description: 'jsdjshdjhfjsdkhf',
          video_url: null,
        },
        {
          __typename: 'Events',
          id: '4acb286a-f01d-4b79-89e8-c985424a9b01',
          title: '25.3 Warren Test Event',
          image: '/images/events/54f50cdf-a218-4a88-ace6-86a3aab580d9.png',
          start_time: '2022-04-20T17:25:11+00:00',
          description: '25.3 Warren Test Event',
          video_url: 'https://www.youtube.com/embed/MPX1REXmb7c',
        },
        {
          __typename: 'Events',
          id: '12763791-d8e8-441a-b711-739fd21ea1ca',
          title: 'TEST - TOP SHELF - RTMP',
          image: '/images/events/f1021f7c-3b57-4e3f-94d1-1a9870fb1ce0.jpg',
          start_time: '2022-03-18T16:00:00+00:00',
          description: 'TEST - TOP SHELF - RTMP',
          video_url: null,
        },
        {
          __typename: 'Events',
          id: 'eb02680c-a603-4b92-bcab-68ff357c1199',
          title: 'RTMP TEST FOR DAN',
          image: '/images/events/ba96dc52-c40f-4684-833b-1cda3baeda8c.png',
          start_time: '2022-03-16T21:26:02+00:00',
          description: 'RTMP TEST FOR DAN',
          video_url: null,
        },
        {
          __typename: 'Events',
          id: 'b6659c8e-78e2-4f12-91db-93b410cabb34',
          title: 'DAN - TEST - MILLICAST TO APP - FROM OUT OF HOME',
          image: '/images/events/581efd92-3a52-4de2-95af-8ff4d45e1e07.png',
          start_time: '2022-03-16T13:15:24+00:00',
          description: 'DAN - TEST - MILLICAST TO APP - FROM OUT OF HOME',
          video_url: null,
        },
      ],
    },
    {
      __typename: 'Users',
      id: 'Vp3xOvj6vAQCD8mGKHouFS7klvz2',
      image:
        '/users/Vp3xOvj6vAQCD8mGKHouFS7klvz2/A82BD959-3A77-4B13-B7B3-EF0FA33BF546.jpg',
      first_name: 'Nick',
      last_name: ' Bakolias',
      username: 'nick',
      Events: [
        {
          __typename: 'Events',
          id: 'adac5db6-7408-4bc5-807b-f1508c242f20',
          title: '21/04/22 event 3',
          image: '/images/events/816181db-3459-4e07-81a1-b99c9b71a693.png',
          start_time: '2022-04-21T13:04:26+00:00',
          description: 'only random team breaks',
          video_url: null,
        },
        {
          __typename: 'Events',
          id: 'd1ff6f8f-e6db-406a-80ad-d80253de92cf',
          title: '21/04/22 event 2',
          image: '/images/events/b5394f57-1e5b-40e8-9850-3acb10055c24.png',
          start_time: '2022-04-21T13:04:00+00:00',
          description: 'test',
          video_url: null,
        },
        {
          __typename: 'Events',
          id: '7ed41e55-70ca-4f7d-9163-eb7706d9a40f',
          title: 'DEV TEST EVENT',
          image: '/images/events/759fbb43-9dbe-48b0-b459-1150da6f15cc.png',
          start_time: '2022-04-19T17:30:19+00:00',
          description: 'test',
          video_url: 'https://www.youtube.com/embed/mdfLQBYGSog',
        },
        {
          __typename: 'Events',
          id: '12f071d0-3872-44fb-892e-1aa5b22fe21f',
          title: 'close randomizer',
          image: '/images/events/0fcb39c6-9fb7-405a-8b49-57c379d6d5cc.jpg',
          start_time: '2022-03-31T12:50:44+00:00',
          description: 'test',
          video_url: null,
        },
        {
          __typename: 'Events',
          id: '5888f738-fa2c-4268-bc12-40fffa474990',
          title: 'test upcoming breaks',
          image: '/images/events/0143c05f-56d2-400b-9930-543b4b447e67.jpg',
          start_time: '2022-03-31T02:41:01+00:00',
          description: 'test',
          video_url: 'https://www.youtube.com/embed/mdfLQBYGSog',
        },
        {
          __typename: 'Events',
          id: '45a79a06-6383-4af0-b55f-58752fc0f05b',
          title: 'PYD/PYT test',
          image: '/images/events/4d22017b-5c17-48fc-8861-9b164c05eb1e.jpg',
          start_time: '2022-03-23T15:59:36+00:00',
          description: 'test',
          video_url: null,
        },
        {
          __typename: 'Events',
          id: '155c3e7f-c3ac-4392-a5c3-aeaebd763b09',
          title: 'randomizer test',
          image: '/images/events/2596c64a-aca7-48b5-8d3f-85fbae74944e.jpg',
          start_time: '2022-03-18T01:11:47+00:00',
          description: 'test',
          video_url: null,
        },
        {
          __typename: 'Events',
          id: '459f418c-eea7-4325-a390-02d956e3b1a0',
          title: 'Bomba squad test break',
          image: '/images/events/ddec19e4-a366-4242-af81-cf65d0d46018.png',
          start_time: '2022-03-15T16:55:50+00:00',
          description: 'test',
          video_url: null,
        },
      ],
    },
  ];
  test('should return expected data', () => {
    expect(formatEvents(queryData as CompletedEventsQuery)).toEqual(
      expectedData,
    );
  });
});
